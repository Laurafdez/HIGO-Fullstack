{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport MyButton from \"./my_button\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Login = function (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  var _super = _createSuper(Login);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this, props);\n\n    _this.setRedirect = function () {\n      _this.setState({\n        redirect: true\n      });\n    };\n\n    _this.renderRedirect = function () {\n      if (_this.state.redirect && isTrainer) {\n        _this.setState({\n          siniciada: true\n        });\n\n        return _jsx(Redirect, {\n          to: {\n            pathname: '/dashboardTrainer',\n            state: {\n              id: _this.state.id,\n              email: _this.state.email\n            }\n          }\n        });\n      } else if (_this.state.redirect && !isTrainer) {\n        return _jsx(Redirect, {\n          to: {\n            pathname: '/dashboardTrainee',\n            state: {\n              id: _this.state.id,\n              email: _this.state.email\n            },\n            sesion: _this.state.sesion\n          }\n        });\n      }\n    };\n\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      redirect: false,\n      id: 0,\n      sesion: 0\n    };\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"handleInputChange\",\n    value: function handleInputChange(event) {\n      var target = event.target;\n      var value = target.value;\n      var name = target.name;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var urlogin = \"http://localhost:8080/api/auth/signin\";\n      var user = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      axios.post(urlogin, {\n        user: user\n      }).then(function (res) {\n        console.log(res);\n        console.log(res.data);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var t = this.props.t;\n      return _jsxs(View, {\n        className: \"wrapper fadeInDown\",\n        children: [_jsxs(\"form\", {\n          className: \"fadeInText\",\n          onSubmit: this.handleSubmit,\n          children: [_jsx(TextInput, {\n            type: \"email\",\n            className: \"fadeIn second\",\n            placeholder: \"Email\",\n            name: \"email\",\n            value: this.state.email,\n            onChange: this.handleInputChange\n          }), _jsx(TextInput, {\n            type: \"password\",\n            className: \"fadeIn third\",\n            placeholder: t('register.password'),\n            name: \"password\",\n            value: this.state.password,\n            onChange: this.handleInputChange\n          }), _jsx(TextInput, {\n            type: \"submit\",\n            value: t('loginForm.sign-in'),\n            className: \"fadeIn fourth\"\n          })]\n        }), _jsxs(View, {\n          id: \"formFooter\",\n          children: [_jsx(Link, {\n            className: \"underlineHover1\",\n            to: \"#\",\n            children: t('loginForm.forgot')\n          }), _jsx(Link, {\n            className: \"underlineHover2\",\n            to: \"/register/\",\n            children: t('loginForm.sign-up')\n          })]\n        }), this.renderRedirect()]\n      });\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#3EA9FA',\n    justifyContent: 'space-around',\n    padding: 15\n  },\n  header: {\n    justifyContent: 'space-around',\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  input: {\n    padding: 15,\n    margin: 10,\n    backgroundColor: 'white',\n    color: 'black',\n    borderWidth: 3,\n    borderColor: 'black',\n    fontSize: 25,\n    fontWeight: 'bold',\n    fontFamily: 'Times New Roman'\n  },\n  button: {\n    alignSelf: 'center',\n    width: 242,\n    height: 60,\n    bottom: 15,\n    borderRadius: 50,\n    backgroundColor: '#333333',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  textButton: {\n    color: '#FEFAE0',\n    fontWeight: 'bold',\n    fontFamily: 'AmericanTypewriter-Bold',\n    fontSize: 40\n  }\n});\nexport default Login;","map":{"version":3,"sources":["C:/Users/Hp/Desktop/isst/backend-sql-db/frontend/src/views/Login.js"],"names":["React","useEffect","useState","MyButton","Login","props","setRedirect","setState","redirect","renderRedirect","state","isTrainer","siniciada","pathname","id","email","sesion","password","handleInputChange","bind","handleSubmit","event","target","value","name","urlogin","user","axios","post","then","res","console","log","data","t","Component","styles","StyleSheet","create","container","flex","backgroundColor","justifyContent","padding","header","flexDirection","alignItems","input","margin","color","borderWidth","borderColor","fontSize","fontWeight","fontFamily","button","alignSelf","width","height","bottom","borderRadius","textButton"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;;;;;;AAGA,OAAOC,QAAP;;;;IAEMC,K;;;;;AACF,iBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,8BAAMA,KAAN;;AADgB,UAgDpBC,WAhDoB,GAgDN,YAAM;AAClB,YAAKC,QAAL,CAAc;AACZC,QAAAA,QAAQ,EAAE;AADE,OAAd;AAGD,KApDmB;;AAAA,UAuDpBC,cAvDoB,GAuDH,YAAM;AACrB,UAAI,MAAKC,KAAL,CAAWF,QAAX,IAAuBG,SAA3B,EAAsC;AACpC,cAAKJ,QAAL,CAAc;AACZK,UAAAA,SAAS,EAAE;AADC,SAAd;;AAGA,eAAO,KAAC,QAAD;AAAU,UAAA,EAAE,EAAE;AACCC,YAAAA,QAAQ,EAAE,mBADX;AAECH,YAAAA,KAAK,EAAE;AAAEI,cAAAA,EAAE,EAAE,MAAKJ,KAAL,CAAWI,EAAjB;AACPC,cAAAA,KAAK,EAAE,MAAKL,KAAL,CAAWK;AADX;AAFR;AAAd,UAAP;AAKD,OATD,MASO,IAAI,MAAKL,KAAL,CAAWF,QAAX,IAAuB,CAACG,SAA5B,EAAuC;AAC5C,eAAO,KAAC,QAAD;AAAU,UAAA,EAAE,EAAE;AACCE,YAAAA,QAAQ,EAAE,mBADX;AAECH,YAAAA,KAAK,EAAE;AAAEI,cAAAA,EAAE,EAAE,MAAKJ,KAAL,CAAWI,EAAjB;AACPC,cAAAA,KAAK,EAAE,MAAKL,KAAL,CAAWK;AADX,aAFR;AAICC,YAAAA,MAAM,EAAE,MAAKN,KAAL,CAAWM;AAJpB;AAAd,UAAP;AAMD;AACF,KAzEmB;;AAEhB,UAAKN,KAAL,GAAa;AACTK,MAAAA,KAAK,EAAE,EADE;AAETE,MAAAA,QAAQ,EAAC,EAFA;AAGTT,MAAAA,QAAQ,EAAE,KAHD;AAITM,MAAAA,EAAE,EAAE,CAJK;AAKTE,MAAAA,MAAM,EAAC;AALE,KAAb;AAOA,UAAKE,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBC,IAAvB,+BAAzB;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB;AAVgB;AAYjB;;;;WAED,2BAAkBE,KAAlB,EAAyB;AACvB,UAAMC,MAAM,GAAGD,KAAK,CAACC,MAArB;AACA,UAAMC,KAAK,GAAGD,MAAM,CAACC,KAArB;AACA,UAAMC,IAAI,GAAGF,MAAM,CAACE,IAApB;AAEA,WAAKjB,QAAL,qBACGiB,IADH,EACUD,KADV;AAGD;;;WAMH,sBAAaF,KAAb,EAAoB;AAClB,UAAMI,OAAO,GAAG,uCAAhB;AAIA,UAAMC,IAAI,GAAE;AACRX,QAAAA,KAAK,EAAE,KAAKL,KAAL,CAAWK,KADV;AAERE,QAAAA,QAAQ,EAAE,KAAKP,KAAL,CAAWO;AAFb,OAAZ;AAKAU,MAAAA,KAAK,CAACC,IAAN,CAAWH,OAAX,EAAoB;AAAEC,QAAAA,IAAI,EAAJA;AAAF,OAApB,EACCG,IADD,CACM,UAAAC,GAAG,EAAI;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACD,OAJD;AAKH;;;WAmCC,kBAAS;AAGP,UAAQC,CAAR,GAAc,KAAK7B,KAAnB,CAAQ6B,CAAR;AAEA,aAEE,MAAC,IAAD;AAAM,QAAA,SAAS,EAAC,oBAAhB;AAAA,mBACI;AAAM,UAAA,SAAS,EAAE,YAAjB;AAA8B,UAAA,QAAQ,EAAE,KAAKd,YAA7C;AAAA,qBACE,KAAC,SAAD;AAAW,YAAA,IAAI,EAAC,OAAhB;AAAwB,YAAA,SAAS,EAAC,eAAlC;AAAkD,YAAA,WAAW,EAAC,OAA9D;AAAsE,YAAA,IAAI,EAAC,OAA3E;AAAmF,YAAA,KAAK,EAAE,KAAKV,KAAL,CAAWK,KAArG;AAA4G,YAAA,QAAQ,EAAE,KAAKG;AAA3H,YADF,EAEE,KAAC,SAAD;AAAW,YAAA,IAAI,EAAC,UAAhB;AAA2B,YAAA,SAAS,EAAC,cAArC;AAAoD,YAAA,WAAW,EAAEgB,CAAC,CAAC,mBAAD,CAAlE;AAAyF,YAAA,IAAI,EAAC,UAA9F;AAAyG,YAAA,KAAK,EAAE,KAAKxB,KAAL,CAAWO,QAA3H;AAAqI,YAAA,QAAQ,EAAE,KAAKC;AAApJ,YAFF,EAGE,KAAC,SAAD;AAAW,YAAA,IAAI,EAAC,QAAhB;AAAyB,YAAA,KAAK,EAAEgB,CAAC,CAAC,mBAAD,CAAjC;AAAwD,YAAA,SAAS,EAAC;AAAlE,YAHF;AAAA,UADJ,EAOI,MAAC,IAAD;AAAM,UAAA,EAAE,EAAC,YAAT;AAAA,qBACE,KAAC,IAAD;AAAM,YAAA,SAAS,EAAC,iBAAhB;AAAkC,YAAA,EAAE,EAAC,GAArC;AAAA,sBAA0CA,CAAC,CAAC,kBAAD;AAA3C,YADF,EAEE,KAAC,IAAD;AAAM,YAAA,SAAS,EAAC,iBAAhB;AAAkC,YAAA,EAAE,EAAC,YAArC;AAAA,sBAAmDA,CAAC,CAAC,mBAAD;AAApD,YAFF;AAAA,UAPJ,EAYG,KAAKzB,cAAL,EAZH;AAAA,QAFF;AAoBD;;;;EAxGiBT,KAAK,CAACmC,S;;AA4G1B,IAAMC,MAAM,GAAGC,UAAU,CAACC,MAAX,CAAkB;AAC7BC,EAAAA,SAAS,EAAE;AACPC,IAAAA,IAAI,EAAE,CADC;AAEPC,IAAAA,eAAe,EAAE,SAFV;AAIPC,IAAAA,cAAc,EAAE,cAJT;AAKPC,IAAAA,OAAO,EAAE;AALF,GADkB;AAQ7BC,EAAAA,MAAM,EAAE;AACJF,IAAAA,cAAc,EAAE,cADZ;AAEJG,IAAAA,aAAa,EAAE,KAFX;AAGJC,IAAAA,UAAU,EAAE;AAHR,GARqB;AAa7BC,EAAAA,KAAK,EAAE;AACHJ,IAAAA,OAAO,EAAE,EADN;AAEHK,IAAAA,MAAM,EAAE,EAFL;AAGHP,IAAAA,eAAe,EAAE,OAHd;AAIHQ,IAAAA,KAAK,EAAE,OAJJ;AAKHC,IAAAA,WAAW,EAAE,CALV;AAMHC,IAAAA,WAAW,EAAE,OANV;AAOHC,IAAAA,QAAQ,EAAE,EAPP;AAQHC,IAAAA,UAAU,EAAE,MART;AASHC,IAAAA,UAAU,EAAE;AATT,GAbsB;AAyB7BC,EAAAA,MAAM,EAAE;AACJC,IAAAA,SAAS,EAAC,QADN;AAEJC,IAAAA,KAAK,EAAE,GAFH;AAGJC,IAAAA,MAAM,EAAE,EAHJ;AAIJC,IAAAA,MAAM,EAAE,EAJJ;AAKJC,IAAAA,YAAY,EAAE,EALV;AAMJnB,IAAAA,eAAe,EAAE,SANb;AAOJK,IAAAA,UAAU,EAAE,QAPR;AAQJJ,IAAAA,cAAc,EAAE;AARZ,GAzBqB;AAmC7BmB,EAAAA,UAAU,EAAE;AACRZ,IAAAA,KAAK,EAAE,SADC;AAERI,IAAAA,UAAU,EAAE,MAFJ;AAGRC,IAAAA,UAAU,EAAE,yBAHJ;AAIRF,IAAAA,QAAQ,EAAE;AAJF;AAnCiB,CAAlB,CAAf;AA2CA,eAAehD,KAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nimport { View, Text, TextInput, StyleSheet, TouchableHighlight, Image } from 'react-native';\r\nimport MyButton from './my_button';\r\n\r\nclass Login extends React.Component {\r\n    constructor(props){\r\n      super(props);\r\n      this.state = {\r\n          email: \"\",\r\n          password:\"\",\r\n          redirect: false,\r\n          id: 0,\r\n          sesion:0\r\n        }\r\n      this.handleInputChange = this.handleInputChange.bind(this);\r\n      this.handleSubmit = this.handleSubmit.bind(this);\r\n      \r\n    }\r\n  \r\n    handleInputChange(event) {\r\n      const target = event.target;\r\n      const value = target.value;\r\n      const name = target.name;\r\n  \r\n      this.setState({\r\n        [name]: value\r\n      });\r\n    }\r\n  \r\n\r\n  \r\n  //  http://trauma-simulator.duckdns.org:8080\r\n      \r\n  handleSubmit(event) {\r\n    const urlogin = \"http://localhost:8080/api/auth/signin\" \r\n    \r\n    // network\r\n\r\n    const user ={\r\n        email: this.state.email,\r\n        password: this.state.password\r\n    }\r\n  \r\n    axios.post(urlogin, { user })\r\n    .then(res => {\r\n      console.log(res);\r\n      console.log(res.data);\r\n    })\r\n}\r\n  \r\n  \r\n  \r\n  \r\n  setRedirect = () => {\r\n    this.setState({\r\n      redirect: true\r\n    })\r\n  }\r\n  \r\n  \r\n  renderRedirect = () => {\r\n    if (this.state.redirect && isTrainer) {\r\n      this.setState({\r\n        siniciada: true\r\n      })\r\n      return <Redirect to={{\r\n                            pathname: '/dashboardTrainer',\r\n                            state: { id: this.state.id,\r\n                            email: this.state.email }\r\n                        }} />\r\n    } else if (this.state.redirect && !isTrainer) {\r\n      return <Redirect to={{\r\n                            pathname: '/dashboardTrainee',\r\n                            state: { id: this.state.id,\r\n                            email: this.state.email },\r\n                            sesion: this.state.sesion\r\n                        }} />\r\n    }\r\n  }\r\n   \r\n  \r\n  \r\n  \r\n  render() {\r\n    \r\n    \r\n    const { t } = this.props;\r\n    \r\n    return(\r\n  \r\n      <View className=\"wrapper fadeInDown\">\r\n          <form className =\"fadeInText\" onSubmit={this.handleSubmit}>\r\n            <TextInput type=\"email\" className=\"fadeIn second\" placeholder=\"Email\" name=\"email\" value={this.state.email} onChange={this.handleInputChange}/>\r\n            <TextInput type=\"password\" className=\"fadeIn third\" placeholder={t('register.password')} name=\"password\" value={this.state.password} onChange={this.handleInputChange}/>\r\n            <TextInput type=\"submit\" value={t('loginForm.sign-in')} className=\"fadeIn fourth\" />\r\n          </form>\r\n           \r\n          <View id=\"formFooter\">\r\n            <Link className=\"underlineHover1\" to=\"#\">{t('loginForm.forgot')}</Link>\r\n            <Link className=\"underlineHover2\" to=\"/register/\">{t('loginForm.sign-up')}</Link>\r\n          </View>\r\n        \r\n        {this.renderRedirect()}\r\n                \r\n        </View>\r\n     \r\n    )\r\n    \r\n  }\r\n  \r\n  }\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: '#3EA9FA',\r\n        // alignItems: 'center',\r\n        justifyContent: 'space-around',\r\n        padding: 15\r\n    },\r\n    header: {\r\n        justifyContent: 'space-around',\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n    },\r\n    input: {\r\n        padding: 15,\r\n        margin: 10,\r\n        backgroundColor: 'white',\r\n        color: 'black',\r\n        borderWidth: 3,\r\n        borderColor: 'black',\r\n        fontSize: 25,\r\n        fontWeight: 'bold',\r\n        fontFamily: 'Times New Roman'\r\n        // textAlign: 'center'\r\n    },\r\n    button: {\r\n        alignSelf:'center',\r\n        width: 242,\r\n        height: 60,\r\n        bottom: 15,\r\n        borderRadius: 50,\r\n        backgroundColor: '#333333',\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    textButton: {\r\n        color: '#FEFAE0',\r\n        fontWeight: 'bold',\r\n        fontFamily: 'AmericanTypewriter-Bold',\r\n        fontSize: 40\r\n    }\r\n});\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}